<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:ProceduralTextureGenerator">
    
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="Brushes.xaml" />
    </ResourceDictionary.MergedDictionaries>

    <Style x:Key="NodeNameLabelStyle" TargetType="Label">
        <Setter Property="FontFamily" Value="Segoe UI Bold"/>
        <Setter Property="FontSize" Value="18"/>
        <Setter Property="Height" Value="32"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="Margin" Value="2,2,0,0"/>
    </Style>

    <Style x:Key="CategoryNameLabelStyle" TargetType="Label">
        <Setter Property="FontFamily" Value="Segoe UI Semibold"/>
        <Setter Property="FontSize" Value="16"/>
        <Setter Property="Height" Value="32"/>
        <Setter Property="Foreground" Value="Silver"/>
        <Setter Property="Margin" Value="7,2,0,0"/>
    </Style>

    <Style x:Key="ParameterNameLabelStyle" TargetType="Label">
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="FontSize" Value="16"/>
        <Setter Property="Foreground" Value="Silver"/>
        <Setter Property="Margin" Value="30,0,2,0"/>
        <Setter Property="HorizontalAlignment" Value="Left"/>
    </Style>

    <Style x:Key="IndicatorLabelStyle" TargetType="Label">
        <Setter Property="FontFamily" Value="Consolas"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Foreground" Value="Silver"/>
        <Setter Property="HorizontalAlignment" Value="Right"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="Margin" Value="0,2,0,0"/>
    </Style>

    <Style x:Key="ParameterTextBoxStyle" TargetType="TextBox">
        <Setter Property="TextAlignment" Value="Center"/>
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Height" Value="24"/>
        <Setter Property="Foreground" Value="Silver"/>
        <Setter Property="Background" Value="#FF202020"/>
        <Setter Property="BorderBrush" Value="Silver"/>
        <Setter Property="Margin" Value="2,0,8,0"/>
    </Style>

    <Style TargetType="{x:Type ToggleButton}" x:Key="ComboBoxToggleButton">
        <Setter Property="BorderBrush" Value="Silver"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ToggleButton}">
                    <Border Grid.ColumnSpan="2" BorderThickness="{Binding BorderThickness, Mode=OneWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ComboBox}}}" BorderBrush="{Binding BorderBrush, Mode=OneWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ComboBox}}}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition Width="24" />
                            </Grid.ColumnDefinitions>
                            <Border x:Name="Border" Grid.ColumnSpan="2" Background="#FF202020" BorderBrush="Silver" BorderThickness="0" />
                            <Border x:Name="BorderToggle" Grid.Column="0" Background="{Binding Background, Mode=OneWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ComboBox}}}" BorderBrush="Silver" Margin="1" BorderThickness="0,0,1,0" />
                            <Grid Grid.Column="1">
                                <Path x:Name="ArrowDown" HorizontalAlignment="Center" VerticalAlignment="Center" Data="M -2 0 L 2 4 L 6 0 Z" Margin="0,8,0,0">
                                    <Path.Fill>
                                        <SolidColorBrush Color="Silver"/>
                                    </Path.Fill>
                                </Path>
                                <Path x:Name="ArrowUp" HorizontalAlignment="Center" VerticalAlignment="Center" Data="M -2 4 L 2 0 L 6 4 Z" Margin="0,0,0,8">
                                    <Path.Fill>
                                        <SolidColorBrush Color="Silver"/>
                                    </Path.Fill>
                                </Path>
                            </Grid>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="ParameterComboBoxStyle" TargetType="ComboBox">
        <Setter Property="HorizontalContentAlignment" Value="Center"/>
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Height" Value="24"/>
        <Setter Property="HorizontalContentAlignment" Value="Center"/>
        <Setter Property="Background" Value="#FF202020"/>
        <Setter Property="Foreground" Value="Silver"/>
        <Setter Property="Margin" Value="2,0,8,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ComboBox}">
                    <Grid>
                        <ToggleButton Name="ToggleButton" Style="{StaticResource ComboBoxToggleButton}" Grid.Column="2" Focusable="False" IsChecked="{Binding Path=IsDropDownOpen,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}" ClickMode="Press"/>
                        <ContentPresenter Name="ContentSite" IsHitTestVisible="False" Content="{TemplateBinding SelectionBoxItem}" ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}" ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}" Margin="6,3,32,3" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <TextBox x:Name="PART_EditableTextBox" TextAlignment="Center" FontFamily="Segoe UI" FontSize="14" Focusable="True" Foreground="Silver" Background="#FF202020" Visibility="Hidden" IsReadOnly="{TemplateBinding IsReadOnly}"/>
                        <Popup Name="Popup" Placement="Bottom" IsOpen="{TemplateBinding IsDropDownOpen}" AllowsTransparency="True" Focusable="False" PopupAnimation="Slide" Margin="3,-8,-3,8">
                            <Grid Name="DropDown" SnapsToDevicePixels="True" MinWidth="{TemplateBinding ActualWidth}" MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                <Border x:Name="DropDownBorder" Background="#FF202020" BorderThickness="1" Margin="0,3,0,3" BorderBrush="Silver"/>
                                <ScrollViewer Margin="0,3" SnapsToDevicePixels="True">
                                    <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained" />
                                </ScrollViewer>
                            </Grid>
                        </Popup>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="{x:Type ComboBoxItem}" TargetType="ComboBoxItem">
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="Foreground" Value="Silver"/>
        <Setter Property="HorizontalAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ComboBoxItem">
                    <ControlTemplate.Resources>
                        <Storyboard x:Key="HoverOn">
                            <ColorAnimation Storyboard.TargetName="content" Storyboard.TargetProperty="(ComboBoxItem.Foreground).(SolidColorBrush.Color)" Duration="0:0:0.3" To="White"/>
                        </Storyboard>
                        <Storyboard x:Key="HoverOff">
                            <ColorAnimation Storyboard.TargetName="content" Storyboard.TargetProperty="(ComboBoxItem.Foreground).(SolidColorBrush.Color)" Duration="0:0:0.3" To="Silver"/>
                        </Storyboard>
                    </ControlTemplate.Resources>
                    <Border Name="Border" Padding="2" BorderThickness="1" SnapsToDevicePixels="True">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                <GradientStop Color="Transparent" Offset="0" />
                                <GradientStop Color="Transparent" Offset="1" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <ContentPresenter x:Name="content"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard Storyboard="{StaticResource HoverOn}"/>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard Storyboard="{StaticResource HoverOff}"/>
                            </Trigger.ExitActions>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="ParameterSeparatorStyle" TargetType="Rectangle">
        <Setter Property="OpacityMask" Value="{StaticResource SeparatorOpacityMaskBrush}"/>
        <Setter Property="Fill" Value="Silver"/>
        <Setter Property="Height" Value="1"/>
        <Setter Property="VerticalAlignment" Value="Bottom"/>
    </Style>

    <Geometry x:Key="NewFunctionGraph">M27.899996,21.39999C30.199982,21.39999 32.000002,23.200008 32.000002,25.499996 32.000002,27.799982 30.199982,29.6 27.899996,29.6 25.599979,29.6 23.799992,27.799982 23.799992,25.499996 23.799992,23.299984 25.599979,21.39999 27.899996,21.39999z M16.500008,21.39999C18.799994,21.39999 20.599981,23.200008 20.599981,25.499996 20.599981,27.799982 18.799994,29.6 16.500008,29.6 14.19999,29.6 12.400003,27.799982 12.400003,25.499996 12.400003,23.299984 14.19999,21.39999 16.500008,21.39999z M4.1000042,21.39999C6.4000063,21.39999 8.2000084,23.200008 8.2000084,25.499996 8.2000084,27.799982 6.4000063,29.6 4.1000042,29.6 1.8000022,29.6 0,27.799982 0,25.499996 0,23.299984 1.8000022,21.39999 4.1000042,21.39999z M15.299995,10.600004L15.400002,10.600004 17.799995,10.600004 17.799995,12.499998 26.79999,12.499998 28.599977,12.499998 29.199984,12.499998 29.199984,18.600002 26.79999,18.600002 26.79999,14.899991 17.799995,14.899991 17.799995,18.600002 15.400002,18.600002 15.400002,14.899991 5.4000068,14.899991 5.4000068,18.600002 2.9999988,18.600002 2.9999988,12.499998 4.6000037,12.499998 5.4000068,12.499998 15.299995,12.499998z M16.500008,0C18.799994,9.4951247E-09 20.599981,1.7999875 20.599981,4.1000055 20.599981,6.3999928 18.799994,8.2000111 16.500008,8.2000111 14.19999,8.2000111 12.400003,6.3999928 12.400003,4.1000055 12.400003,1.7999875 14.19999,9.4951247E-09 16.500008,0z</Geometry>
    <Geometry x:Key="OpenFunctionGraph">M0,0.40000916L10.100037,0.40000916 10.100037,3 17.900024,3 17.600037,3.1999969C16.100037,4,15,5,14.300049,6.1000061L0,6.1000061 0,3.5 0,3z M26.300049,0L32,5.6999969 26.300049,10.699997 26.300049,8C26.300049,8,19.100037,6,15.5,8.9000092L15.5,9 25.200012,9 25.200012,20.5 0,20.5 0,9 14.400024,9 14.400024,8.9000092C15.200012,6.5,17.800049,2.6999969,26.300049,2.6999969z</Geometry>
    <Geometry x:Key="SaveFunctionGraph">M9.0999898,25.900024L9.0999898,28.600006 26.500042,28.600006 26.500042,25.900024z M11.500018,5.2000122L14.899986,5.2000122 14.899986,12 11.500018,12z M4.500007,5.1000061L9.0000142,5.1000061 9.0000142,13.300018 26.600017,13.300018 26.600017,5.1000061 31.199999,5.1000061 31.199999,32 4.500007,32z M22.000034,0L26.600017,0 26.600017,3.6000061 25.000038,3.6000061 22.000034,3.6000061z M7.0000108,0L10.399979,0 10.399979,3.5 7.0000108,3.5z M0,0L4.3999704,0 4.3999704,3.6000061 3.0000049,3.6000061 3.0000049,26.900024 0,26.900024z</Geometry>
    <Geometry x:Key="ChangeObject">M2.6949773,9.6219993L2.6949773,23.638002C3.9109809,24.177003,11.233004,27.423997,13.868992,28.588991L13.868992,14.573994 13.474978,14.399006C11.544986,13.545003,5.1279919,10.698995,2.6949773,9.6219993z M27.847999,9.5659996L23.289007,11.588995C20.405004,12.868992,17.312992,14.241002,16.563999,14.573002L16.563999,28.588991C19.207981,27.416994,26.62998,24.123003,27.847999,23.582994z M15.326999,2.8210064C14.526981,3.1760016 8.0650041,6.0430055 4.6709912,7.5490018 7.5729997,8.8360039 12.672,11.095007 14.560978,11.931996L15.215,12.224003 16.907993,11.472005C19.252994,10.431005 23.381994,8.5979973 25.871984,7.493002 22.492986,5.9970003 16.12598,3.1749945 15.326999,2.8210064z M15.325992,0C15.511997,0,15.698978,0.039001457,15.871982,0.11600494L29.741005,6.2610079C29.853981,6.327994 29.892982,6.3389955 29.931007,6.3629976 30.047981,6.4599977 30.084999,6.4899965 30.118995,6.5230013 30.173988,6.5750032 30.221992,6.631003 30.267982,6.6910001 30.293983,6.7269955 30.323982,6.7639981 30.345009,6.8029996 30.388008,6.8719998 30.417,6.9449979 30.446998,7.0210019 30.461006,7.0580045 30.478981,7.0930081 30.491981,7.1319943 30.523994,7.2480069 30.542,7.3700009 30.542,7.493002L30.542,24.459001C30.542,24.991991,30.230995,25.474992,29.742988,25.690004L15.761997,31.89299C15.651981,31.932998 15.596988,31.946991 15.537998,31.959991 15.487003,31.972 15.436985,31.985992 15.381992,31.991989 15.326999,32 15.272983,32 15.215976,32 15.161991,32 15.105991,32 15.049991,31.991989 14.997989,31.985992 14.946995,31.972 14.893986,31.959991 14.836979,31.946991 14.782993,31.932998 14.728977,31.908996L0.80099487,25.748003C0.31298822,25.530992,-1.3702993E-07,25.046999,0,24.515001L0,7.5490018C-1.3702993E-07,7.4249936 0.017974721,7.3049985 0.052978514,7.1870023 0.06298816,7.1480008 0.080993531,7.1129971 0.095977781,7.0759946 0.12399281,7.0009976 0.15499867,6.9270078 0.19598388,6.8589993 0.22097769,6.8199979 0.24999992,6.7829953 0.27697754,6.7450009 0.31997674,6.6870023 0.3679809,6.631003 0.42098999,6.579001 0.45898434,6.5459963 0.49298093,6.5150057 0.53399658,6.4859987 0.64797973,6.3960024 0.68899536,6.3839937 0.72598266,6.3629976L14.780002,0.11600494C14.952976,0.039001457,15.139988,0,15.325992,0z</Geometry>
    <Geometry x:Key="ChangeLighting">M12.400003,30C12.800004,30 13.1,30.300018 13.1,30.600006 13.1,31 12.900003,31.300018 12.500001,31.399994L7.2000052,32 7.0999991,32C6.7000052,32 6.4000021,31.700012 6.4000021,31.399994 6.4000021,31 6.5999991,30.700012 7.0000006,30.600006z M14.1,27.399994C14.500002,27.399994 14.800005,27.700012 14.800005,28 14.800005,28.399994 14.600001,28.700012 14.200006,28.800018L5.5000006,29.800018 5.4000021,29.800018C5.0000006,29.800018 4.7000052,29.5 4.7000052,29.200012 4.7000052,28.800018 4.9000021,28.5 5.3000037,28.399994z M14.1,25C14.500002,25 14.800005,25.300018 14.800005,25.600006 14.800005,26 14.600001,26.300018 14.200006,26.399994L5.5000006,27.399994 5.4000021,27.399994C5.0000006,27.399994 4.7000052,27.100006 4.7000052,26.800018 4.7000052,26.399994 4.9000021,26.100006 5.3000037,26z M9.5000011,2.5C5.8000037,2.5 2.9000017,5.5 2.9000014,9.1000061 2.9000017,9.5 3.2000047,9.8999939 3.700005,9.8999939 4.0999986,9.8999939 4.5000006,9.6000061 4.5000006,9.1000061 4.5000006,7.7000122 5.0999991,6.3999939 6.0000006,5.5 6.8000037,4.6000061 8.0000011,4 9.5000011,4 9.9000026,4 10.300004,3.7000122 10.300004,3.2000122 10.300004,2.7000122 9.9000026,2.5 9.5000011,2.5z M9.8000042,0C15.200007,0 19.600001,4.3999939 19.600001,9.7000122 19.600001,13.300018 16.300004,16.600006 16.300004,16.600006 15.500002,17.399994 14.800005,19.100006 14.800005,20.200012L14.800005,20.5C14.800005,21.700012,13.800004,22.600006,12.700006,22.600006L6.9000021,22.600006C5.7000052,22.600006,4.8000037,21.600006,4.8000037,20.5L4.8000037,20.200012C4.8000037,19 4.0999986,17.399994 3.300003,16.600006 3.3000032,16.600006 -1.4722355E-07,13.300018 0,9.7000122 -1.4722355E-07,4.3999939 4.4000017,0 9.8000042,0z</Geometry>
    <Geometry x:Key="ChangeEnvironment">M14.255,27.812979C14.853,27.912979 15.352,27.912979 15.95,27.912979 16.548,27.912979 17.047,27.912979 17.645,27.812979L17.645,30.205976C17.645,31.102976 16.947,31.899975 15.95,31.899975 15.053,31.899975 14.255,31.201977 14.255,30.205976z M23.227,25.42098L24.424,27.513979C24.822001,28.311978 24.623,29.307978 23.825,29.806976 23.028,30.205976 22.031,30.005978 21.533,29.208978L20.336,27.11498C21.433,26.71698,22.33,26.11798,23.227,25.42098z M8.473,25.220981C9.3710001,25.918981,10.268,26.51698,11.265,26.915979L9.9689999,29.008978C9.47,29.806976 8.473,30.005978 7.6760001,29.606977 6.878,29.108977 6.6790001,28.111979 7.0780001,27.31498z M27.014999,20.435985L29.209,21.731983C30.006001,22.230983 30.305,23.226982 29.806999,24.024981 29.308001,24.821981 28.311001,25.120981 27.514,24.622981L25.321,23.426982C26.019,22.429983,26.617001,21.432983,27.014999,20.435985z M4.8850002,20.236985C5.283,21.233984,5.7820001,22.230983,6.48,23.127982L4.2860003,24.323981C3.4889998,24.722981 2.4919996,24.522982 1.9940004,23.725982 1.5950003,22.927982 1.8940001,21.930984 2.691,21.532984z M27.712999,14.254989L30.305,14.254989C31.202,14.254989 32,14.952989 32,15.949988 32,16.846987 31.302,17.644987 30.305,17.644987L27.813,17.644987C27.913,17.145987 27.913,16.647987 27.913,16.149988 27.813,15.451988 27.813,14.853989 27.712999,14.254989z M1.6949997,14.254989L4.2860003,14.254989C4.1870003,14.853989 4.1870003,15.451988 4.1870003,16.049988 4.1870003,16.547987 4.1870003,17.046987 4.2860003,17.544987L1.6949997,17.544987C0.69799995,17.644987 0,16.846987 0,15.949988 0,15.052989 0.69799995,14.254989 1.6949997,14.254989z M28.410999,7.2769947C29.009001,7.2769947 29.607,7.5759945 29.906,8.0749941 30.305,8.8719931 30.106001,9.8689926 29.308001,10.367992L27.014999,11.663991C26.617001,10.666992,26.019,9.6699927,25.42,8.7729936L27.712999,7.4769945C27.913,7.3769946,28.112,7.2769947,28.410999,7.2769947z M3.5890002,7.1779947C3.888,7.1779947,4.0869999,7.2769947,4.3860002,7.3769946L6.6789999,8.6729932C5.9809999,9.5699928,5.3829999,10.466992,4.9840002,11.563991L2.691,10.267992C1.9940004,9.7689927 1.6949997,8.7729936 2.0930004,7.9749942 2.4919996,7.4769945 2.9900002,7.1779947 3.5890002,7.1779947z M15.95,5.9809957C21.533,5.9809957 26.019,10.466992 26.019,16.049988 26.019,21.631984 21.533,26.11798 15.95,26.11798 10.367,26.11798 5.881,21.631984 5.881,16.049988 5.881,10.466992 10.367,5.9809957 15.95,5.9809957z M23.327,1.9939985L23.427,1.9939985C23.726,1.9939985 23.925,2.0929985 24.224,2.1929979 25.022,2.6919975 25.221,3.6879969 24.822001,4.4859962L23.427,6.778995C22.529,6.0809956,21.632,5.482996,20.536,5.0839958L21.931,2.8909979C22.23,2.2929983,22.729,2.0929985,23.327,1.9939985z M8.8720002,1.8939981C9.47,1.8939981,10.068,2.1929979,10.367,2.6919975L11.663,4.9839964C10.666,5.3829961,9.6700001,5.9809957,8.7720003,6.5789952L7.4759998,4.2869968C6.9780002,3.4889975 7.2770002,2.4919977 8.0749998,2.0929985 8.3740001,1.8939981 8.5730001,1.8939981 8.8720002,1.8939981z M15.95,0C16.847,0,17.645,0.69799995,17.645,1.6949987L17.645,4.3859968C17.146,4.2869968 16.548,4.2869968 15.95,4.2869968 15.352,4.2869968 14.853,4.2869968 14.255,4.3859968L14.255,1.6949987C14.255,0.69799995,15.053,0,15.95,0z</Geometry>
    <Geometry x:Key="Encompass">M30,17L32,17 32,26 23,26 23,24 30,24z M0,17L2,17 2,24 9,24 9,26 0,26z M7,6.9999847L7,18.999985 25,18.999985 25,6.9999847z M5,4.9999847L27,4.9999847 27,20.999985 5,20.999985z M23,0L32,0 32,9 30,9 30,2 23,2z M0,0L9,0 9,2 2,2 2,9 0,9z</Geometry>

    <Style x:Key="MainMenuStyle" TargetType="Menu">
        <Setter Property="Foreground" Value="Silver"/>
        <Setter Property="Background" Value="#FF404040"/>
        <Setter Property="BorderBrush" Value="#FF282828"/>
        <Setter Property="BorderThickness" Value="0,0,0,2"/>
    </Style>
    <Style x:Key="MainMenuItemStyle" TargetType="MenuItem">
        <Setter Property="Foreground" Value="Silver"/>
        <Setter Property="Background" Value="#FF404040"/>
        <Setter Property="Padding" Value="2,2,7,0"/>
    </Style>

    <local:WindowCloseCommand x:Key="CloseCommand"></local:WindowCloseCommand>
    <Geometry x:Key="CloseButton">M29.916016,0L31.999023,2.0700073 17.988037,16 32,29.930054 29.91803,32 15.905029,18.070007 2.0820313,31.812012 0,29.742004 13.822998,16 0.0010375977,2.2590332 2.0840454,0.18902588 15.905029,13.929016z</Geometry>

    <Style x:Key="DialogWindowStyle" TargetType="Window">
        <Setter Property="WindowStyle" Value="None"/>
        <Setter Property="AllowsTransparency" Value="True"/>
        <Setter Property="ResizeMode" Value="NoResize"/>
        <Setter Property="Background" Value="#FF282828"/>
        <Setter Property="BorderBrush" Value="Silver"/>
        <Setter Property="BorderThickness" Value="2"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Window}">
                    <Grid Background="{TemplateBinding Background}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="{TemplateBinding Title}" HorizontalContentAlignment="Left" VerticalContentAlignment="Top" FontFamily="Segoe UI" FontSize="20" FontWeight="SemiBold" Foreground="Silver" local:WindowDragBehavior.LeftMouseButtonDrag="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="5,-5,0,0" Grid.ColumnSpan="2"/>
                        <Button Command="{StaticResource CloseCommand}" CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}" Width="16" Height="16" Background="Transparent" BorderThickness="0" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,8,10,0" Grid.Row="0" Grid.Column="1">
                            <Path Stretch="Fill" Fill="Silver" Data="{StaticResource CloseButton}"/>
                        </Button>
                        <ContentPresenter Grid.Row="1" Grid.ColumnSpan="2"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="ScrollBarRepeatButtonArrowStyle" TargetType="{x:Type RepeatButton}" BasedOn="{x:Null}">
        <Setter Property="Height" Value="16"/>
        <Setter Property="Focusable" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RepeatButton}">
                    <ControlTemplate.Resources>
                        <Geometry x:Key="path">M -4 2 L 0 0 L 4 2 Z</Geometry>
                    </ControlTemplate.Resources>
                    <Grid>
                        <Border x:Name="border" Background="Transparent"/>
                        <Path x:Name="repeatButtonArrow" Fill="Silver" Data="{StaticResource path}" StrokeStartLineCap="Round" StrokeEndLineCap="Round" Stretch="Fill" UseLayoutRounding="False" HorizontalAlignment="Center" VerticalAlignment="Center" Height="8" Width="8"/>
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" ContentTemplateSelector="{TemplateBinding ContentTemplateSelector}"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="repeatButtonArrow" Property="Fill" Value="#FFFFFFFF"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="repeatButtonArrow" Property="Fill" Value="#FF404040"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="ScrollBarThumbStyle" TargetType="{x:Type Thumb}">
        <Setter Property="IsTabStop" Value="False"/>
        <Setter Property="Focusable" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <ControlTemplate.Resources>
                        <Storyboard x:Key="PressedOn">
                            <DoubleAnimation Duration="0:0:0.3" Storyboard.TargetName="pressedRectThumb" Storyboard.TargetProperty="(FrameworkElement.Opacity)" To="1" />
                        </Storyboard>
                        <Storyboard x:Key="PressedOff">
                            <DoubleAnimation Duration="0:0:0.3" Storyboard.TargetName="pressedRectThumb" Storyboard.TargetProperty="(FrameworkElement.Opacity)" To="0" />
                        </Storyboard>
                    </ControlTemplate.Resources>
                    <Grid>
                        <Rectangle x:Name="rectThumb" RadiusX="4" RadiusY="4" Fill="Silver" Width="8"/>
                        <Rectangle x:Name="pressedRectThumb" Fill="#FFFFFFFF" RadiusX="4" RadiusY="4" Width="8" Opacity="0" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsDragging" Value="True">
                            <Setter TargetName="rectThumb" Property="Fill" Value="#FFFFFFFF"/>
                            <Trigger.EnterActions>
                                <BeginStoryboard Storyboard="{StaticResource PressedOn}"/>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard Storyboard="{StaticResource PressedOff}"/>
                            </Trigger.ExitActions>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="rectThumb" Property="Fill" Value="#FF404040"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="ScrollBarRepeatButtonPageStyle" TargetType="{x:Type RepeatButton}">
        <Setter Property="IsTabStop" Value="False"/>
        <Setter Property="Focusable" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RepeatButton}">
                    <Border Background="Transparent"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="ScrollBarStyle" TargetType="{x:Type ScrollBar}">
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ScrollBar}">
                    <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid x:Name="GridScrollBar" Width="16" Background="{TemplateBinding Background}">
                            <Grid.RowDefinitions>
                                <RowDefinition MaxHeight="16"/>
                                <RowDefinition/>
                                <RowDefinition MaxHeight="16"/>
                            </Grid.RowDefinitions>
                            <RepeatButton x:Name="PageUpButton" Style="{DynamicResource ScrollBarRepeatButtonArrowStyle}" Grid.Row="0" Command="ScrollBar.LineUpCommand"/>
                            <Track x:Name="PART_Track" Grid.Row="1" Orientation="Vertical" IsDirectionReversed="True">
                                <Track.Thumb>
                                    <Thumb Style="{DynamicResource ScrollBarThumbStyle}"/>
                                </Track.Thumb>
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton x:Name="DecreaseRepeatButton" Command="ScrollBar.PageUpCommand" Style="{DynamicResource ScrollBarRepeatButtonPageStyle}"/>
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton x:Name="IncreaseRepeatButton" Command="ScrollBar.PageDownCommand" Style="{DynamicResource ScrollBarRepeatButtonPageStyle}"/>
                                </Track.IncreaseRepeatButton>
                            </Track>
                            <RepeatButton x:Name="PageDownButton" Grid.Row="2" Command="ScrollBar.LineDownCommand" Style="{DynamicResource ScrollBarRepeatButtonArrowStyle}">
                                <RepeatButton.LayoutTransform>
                                    <RotateTransform Angle="180"/>
                                </RepeatButton.LayoutTransform>
                            </RepeatButton>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="Orientation" Value="Horizontal">
                            <Setter Property="LayoutTransform" TargetName="GridScrollBar">
                                <Setter.Value>
                                    <RotateTransform Angle="-90"/>
                                </Setter.Value>
                            </Setter>
                            <Setter TargetName="PART_Track" Property="Orientation" Value="Vertical"/>
                            <Setter Property="Command" Value="ScrollBar.LineRightCommand" TargetName="IncreaseRepeatButton"/>
                            <Setter Property="Command" Value="ScrollBar.LineLeftCommand" TargetName="DecreaseRepeatButton"/>
                            <Setter Property="Command" Value="ScrollBar.PageRightCommand" TargetName="PageDownButton"/>
                            <Setter Property="Command" Value="ScrollBar.PageLeftCommand" TargetName="PageUpButton"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="ScrollViewerStyle" TargetType="{x:Type ScrollViewer}" BasedOn="{x:Null}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ScrollViewer}">
                    <Grid Background="{TemplateBinding Background}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <ScrollContentPresenter Grid.Column="0" Grid.Row="0" Margin="{TemplateBinding Padding}" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" CanContentScroll="{TemplateBinding CanContentScroll}"/>
                        <ScrollBar x:Name="PART_HorizontalScrollBar" Style="{DynamicResource ScrollBarStyle}" Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}" Grid.Column="0" Grid.Row="1" Orientation="Horizontal" Value="{Binding Path=HorizontalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}" ViewportSize="{TemplateBinding ViewportWidth}" Minimum="0" Maximum="{TemplateBinding ScrollableWidth}" AutomationProperties.AutomationId="HorizontalScrollBar"/>
                        <ScrollBar x:Name="PART_VerticalScrollBar" Style="{DynamicResource ScrollBarStyle}" Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}" Grid.Column="1" Grid.Row="0" Orientation="Vertical" Value="{Binding Path=VerticalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}" ViewportSize="{TemplateBinding ViewportHeight}" Minimum="0" Maximum="{TemplateBinding ScrollableHeight}" AutomationProperties.AutomationId="VerticalScrollBar"/>
                        <Border Grid.Column="1" Grid.Row="1" Background="Transparent"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Geometry x:Key="RightArrow">M 0,0 L 4,3.5 L 0,7 Z</Geometry>

    <Style x:Key="ContextMenuStyle" TargetType="{x:Type ContextMenu}">
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="Grid.IsSharedSizeScope" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ContextMenu}">
                    <Border x:Name="BorderContextMenu" Background="#FF202020" BorderBrush="Silver" BorderThickness="1" >
                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <ControlTemplate x:Key="{ComponentResourceKey ResourceId=SubmenuContent, TypeInTargetAssembly={x:Type FrameworkElement}}" TargetType="{x:Type ContentControl}">
        <Border Background="#FF202020" BorderBrush="Silver" BorderThickness="1">
            <Grid>
                <ContentPresenter Margin="2,0"/>
            </Grid>
        </Border>
    </ControlTemplate>
    <Style x:Key="ContextMenuItemStyle" TargetType="{x:Type MenuItem}">
        <Setter Property="Foreground" Value="Silver"/>
        <Setter Property="HorizontalContentAlignment" Value="{Binding Path=HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
        <Setter Property="VerticalContentAlignment" Value="{Binding Path=VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type MenuItem}">
                    <Grid SnapsToDevicePixels="True">
                        <Rectangle x:Name="backgroundSubmenuItem" Fill="{TemplateBinding Background}" Stroke="{TemplateBinding BorderBrush}"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="25"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="37"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="17"/>
                            </Grid.ColumnDefinitions>
                            <ContentPresenter VerticalAlignment="Center" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" ContentSource="Header" RecognizesAccessKey="True" Margin="{TemplateBinding Padding}" Grid.Column="1"/>
                            <TextBlock Text="{TemplateBinding InputGestureText}" Margin="{TemplateBinding Padding}" Grid.Column="3"/>
                        </Grid>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Setter Property="Fill" TargetName="backgroundSubmenuItem" Value="#FF404040"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="Role" Value="TopLevelHeader">
                <Setter Property="Padding" Value="7,2,8,3"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type MenuItem}">
                            <Grid SnapsToDevicePixels="True">
                                <Rectangle Fill="{TemplateBinding Background}" Stroke="{TemplateBinding BorderBrush}" Margin="0"/>
                                <Rectangle x:Name="innerBorderHeaderMenu" Margin="0"/>
                                <ContentPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" Margin="{TemplateBinding Padding}" ContentSource="Header" RecognizesAccessKey="True"/>
                                <Popup x:Name="PART_Popup" PopupAnimation="None" Focusable="False" AllowsTransparency="False" HorizontalOffset="1" IsOpen="{TemplateBinding IsSubmenuOpen}" Placement="Bottom" VerticalOffset="-1">
                                    <ContentControl x:Name="submenuBorder" IsTabStop="False" Template="{DynamicResource {ComponentResourceKey ResourceId=SubmenuContent, TypeInTargetAssembly={x:Type FrameworkElement}}}">
                                        <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.DirectionalNavigation="Cycle" KeyboardNavigation.TabNavigation="Cycle" Grid.IsSharedSizeScope="True" Margin="2"/>
                                    </ContentControl>
                                </Popup>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsHighlighted" Value="True">
                                    <Setter Property="Fill" TargetName="innerBorderHeaderMenu" Value="#FF404040"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                                <Trigger Property="IsSubmenuOpen" Value="True">
                                    <Setter Property="Fill" TargetName="innerBorderHeaderMenu" Value="#FF404040"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
            <Trigger Property="Role" Value="TopLevelItem">
                <Setter Property="Padding" Value="7,2,8,3"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type MenuItem}">
                            <Grid SnapsToDevicePixels="True">
                                <Rectangle x:Name="backgroundMenuItem" Fill="{TemplateBinding Background}" Stroke="{TemplateBinding BorderBrush}" Margin="1"/>
                                <Rectangle x:Name="innerBorderHeaderMenu" Margin="0"/>
                                <ContentPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" Margin="{TemplateBinding Padding}" ContentSource="Header" RecognizesAccessKey="True"/>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsHighlighted" Value="True">
                                    <Setter Property="Fill" TargetName="innerBorderHeaderMenu" Value="Transparent"/>
                                    <Setter Property="Fill" TargetName="backgroundMenuItem" Value="Transparent"/>
                                    <Setter Property="Foreground" Value="#eee"/>
                                </Trigger>
                                <Trigger Property="IsKeyboardFocused" Value="True">
                                    <Setter Property="Fill" TargetName="backgroundMenuItem" Value="Transparent"/>
                                    <Setter Property="Fill" TargetName="innerBorderHeaderMenu" Value="Transparent"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
            <Trigger Property="Role" Value="SubmenuHeader">
                <Setter Property="Padding" Value="2,3,2,3"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type MenuItem}">
                            <Grid SnapsToDevicePixels="True">
                                <Rectangle x:Name="backgroundHeaderSubmenu" Fill="{TemplateBinding Background}" Stroke="{TemplateBinding BorderBrush}"/>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="25"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="37"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="17"/>
                                    </Grid.ColumnDefinitions>
                                    <ContentPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" ContentSource="Header" RecognizesAccessKey="True" Margin="{TemplateBinding Padding}" Grid.Column="1"/>
                                    <TextBlock Visibility="Collapsed" Text="{TemplateBinding InputGestureText}" Margin="{TemplateBinding Padding}" Grid.Column="3"/>
                                    <Path Data="{StaticResource RightArrow}" VerticalAlignment="Center" Fill="{TemplateBinding Foreground}" Margin="4,0,0,0" Grid.Column="4"/>
                                </Grid>
                                <Popup x:Name="PART_Popup" PopupAnimation="None" Focusable="false" AllowsTransparency="False" HorizontalOffset="-2" IsOpen="{TemplateBinding IsSubmenuOpen}" Placement="Right" VerticalOffset="-2">
                                    <ContentControl x:Name="submenuBorder" IsTabStop="False" Template="{DynamicResource {ComponentResourceKey ResourceId=SubmenuContent, TypeInTargetAssembly={x:Type FrameworkElement}}}" >
                                        <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.DirectionalNavigation="Cycle" KeyboardNavigation.TabNavigation="Cycle" Margin="2" Grid.IsSharedSizeScope="True"/>
                                    </ContentControl>
                                </Popup>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsHighlighted" Value="True">
                                    <Setter Property="Fill" TargetName="backgroundHeaderSubmenu" Value="#FF404040"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
            <Trigger Property="Role" Value="SubmenuItem">
                <Setter Property="Padding" Value="2,3,2,3"/>
            </Trigger>
        </Style.Triggers>
    </Style>
    <Style x:Key="{x:Static MenuItem.SeparatorStyleKey}" TargetType="Separator">
        <Setter Property="Height" Value="3"/>
        <Setter Property="Margin" Value="30,4,0,4"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Separator">
                    <Border BorderBrush="Silver" BorderThickness="0,1,0,1" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>